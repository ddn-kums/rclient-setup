# @copyright
#                               --- WARNING ---
#
#     This work contains trade secrets of DataDirect Networks, Inc.  Any
#     unauthorized use or disclosure of the work, or any part thereof, is
#     strictly prohibited. Any use of this work without an express license
#     or permission is in violation of applicable laws.
#
# @copyright DataDirect Networks, Inc. CONFIDENTIAL AND PROPRIETARY
# @copyright DataDirect Networks Copyright, Inc. (c) 2021-2024. All rights reserved.

description:
  node:
    summary: This is the Default Configuration File for AS_-1124US-TNRP (SuperMicro)
    hwmodel: Unsupported
    comments: None
    cores: 96
    numa_nodes: 2
    numa_cpu_list:
      - numa_node: 0
        cpulist: "0-23,48-71"
      - numa_node: 1
        cpulist: "24-47,72-95"

etcd:
  resources:
    cpuset: "49-50"
    mem_limit: 8192

reds3:
  resources:
    reds3_cpuset: "28,36,38,40,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94"
    redfs_cpuset: "29,37,39,41,53,55,57,59,61,63,65,67,69,71,73,75,77,79,81,83,85,87,89,91,93,95"
    reds3_sibling_cpuset: "28:29,36:37,38:39,40:41,52:53,54:55,56:57,58:59,60:61,62:63,64:65,66:67,68:69,70:71,72:73,74:75,76:77,78:79,80:81,82:83,84:85,86:87,88:89,90:91,92:93,94:95"
    mem_limit : 55320
  environment:
    # reds3 container cpuset is computed from COREMASK variables
    RED_WIDTH: 16
    RED_FS_S3_BUCKET_STRIPES: 128
    RED_WORKLOAD: 3
    REDS3_iomem: 1
    REDS3_req_limit: 4096

redagent:
  resources:
    mem_limit: 87040
    cat_cpuset:        "7,10,19,22,31,34,4,12,14,16,24,26"
    cat_affine_cpuset: "8,11,20,23,32,35,5,13,15,17,25,27"
    handler_cpuset: "6-11,18-23,30-35,42,45,4-5,12-17,24-27"
    net_cpuset: "6,9,18,21,30,33,42,45"
    nvmf_cpuset: "6,9,18,21,30,33,42,45"
    posix_cpuset: "1,2"
    auxiliary_cpuset: "3"
    spdk_main_cpuset: "51"
  environment:
    JE_MALLOC_CONF: "prof:true,prof_active:false"

cluster:
  tunables:
    rpc_credits: 128
    c2s_credit_low: 256
    c2s_credit_high: 384
    rpc_c2s_credits: 128
    rpc_s2s_credits: 256
    ring_max_ninflight: 4096
    ring_max_dequeue_size: 4096
    rpc_rdma_pool_sz: 2000
    client_rdma_pool_sz: 2000
  cats:
    bulk_cachesz: 1073741824
    bept_cachesz: 2147483648
